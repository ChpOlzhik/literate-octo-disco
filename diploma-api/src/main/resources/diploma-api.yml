openapi: 3.0.2
info:
  version: 0.0.1
  title: Diploma Service
  description: The Diploma Service
tags:
  - name: Team
  - name: Topic
paths:
  /teams:
    get:
      summary: Get team list
      tags:
        - Team
      description: Get list of teams
      operationId: getAvailableTeams
      responses:
        '200':
          description: Status is OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TeamDto'
  /teams/{teamId}:
    get:
      tags:
        - Team
      description: Get team info by id
      operationId: getTeam
      parameters:
        - in: path
          name: teamId
          schema:
            type: integer
            format: int64
          required: true
          description: Numeric ID of the team to get
      responses:
        '200':
          description: Status is OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TeamDto'
  /topics:
    get:
      tags:
        - Topic
      description: Get list of available topics
      operationId: getAvailableTopics
      responses:
        '200':
          description: Status is OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TopicDto'
  /topics/{topicId}:
    get:
      tags:
        - Topic
      description: Get topic info by id
      operationId: getTopic
      parameters:
        - in: path
          name: topicId
          schema:
            type: integer
            format: int64
          required: true
          description: Numeric ID of the topic to get
      responses:
        '200':
          description: Status is OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TopicDto'
components:
  schemas:
    TeamDto:
      description: Team model
      type: object
      properties:
        id:
          description: Team id
          type: integer
          format: int64
        name:
          type: string
        topic:
          $ref: '#/components/schemas/TopicDto'
        advisor:
          $ref: '#/components/schemas/UserDto'
        creator:
          $ref: '#/components/schemas/UserDto'
        choices:
          type: integer
          format: int64
        confirmed:
          type: boolean
    TopicDto:
      description: Topic of project
      type: object
      required:
        - id
        - name
        - creator
        - initial
      properties:
        id:
          description: Topic id
          type: integer
          format: int64
        name:
          description: Topic name
          type: string
        creator:
          $ref: '#/components/schemas/UserDto'
        initial:
          $ref: '#/components/schemas/InitialDto'
        selected:
          description: Selected status of topic
          type: boolean
    InitialDto:
      description: Group initials
      type: object
      properties:
        id:
          description: Initial id
          type: integer
          format: int64
        initial:
          description: Initial
          type: string
    GroupDto:
      description: Group info's
      type: object
      properties:
        id:
          description: Group id
          type: integer
          format: int64
        name:
          type: string
        initial:
          $ref: '#/components/schemas/InitialDto'
    UserDto:
      description: User info
      type: object
      properties:
        id:
          description: User id
          type: integer
          format: int64
        first_name:
          type: string
        last_name:
          type: string
        middle_name:
          type: string
        group:
          $ref: '#/components/schemas/GroupDto'
        role:
          $ref: '#/components/schemas/RoleDto'
    RoleDto:
      description: Role info
      type: object
      properties:
        id:
          description: Role id
          type: integer
          format: int64
        name:
          description: Role name
          type: string
